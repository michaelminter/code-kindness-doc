<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../assets/style.css?t=90051322">
    <script src="../../assets/script.js?t=93f1a66c"></script>
    <title>Libraries - CodeKindness</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <ul>
          <li class="menu-item -level-0 -parent">
            <ul class="submenu">
              <li class="menu-item -level-1"><a class="link title  link-index" href="../../index.html">CodeKindness</a>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">Architecture</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-architectureoverview" href="../../architecture/overview.html">Overview</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-apioverview" href="../../api/overview.html">APIs</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-architecturebusiness" href="../../architecture/business.html">Business</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-architectureproject_management" href="../../architecture/project_management.html">Project Management</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-architecturesecurity" href="../../architecture/security.html">Security</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-architecturetesting" href="../../architecture/testing.html">Testing</a>
                  </li>
                </ul>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">DevOps</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-devopsoverview" href="../../devops/overview.html">Overview</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-devopsunix" href="../../devops/unix.html">Unix</a>
                  </li>
                </ul>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">Javascript</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-javascriptoverview" href="../../javascript/overview.html">Overview</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-javascriptlinters" href="../../javascript/linters.html">Linters</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-javascriptoperators" href="../../javascript/operators.html">Operators</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-javascriptproperties" href="../../javascript/properties.html">Properties</a>
                  </li>
                  <li class="menu-item -level-2 -parent"><a class="link title  link-javascriptreactoverview" href="../../javascript/react/overview.html">React</a>
                    <ul class="submenu">
                      <li class="menu-item -level-3"><a class="link title  link-javascriptreactapi" href="../../javascript/react/api.html">API</a>
                      </li>
                      <li class="menu-item -level-3"><a class="link title -active link-javascriptreactlibraries" href="../../javascript/react/libraries.html">Libraries</a>
                        <ul class="headings heading-list">
                          <li class="heading-item -depth-2"><a class="hlink link-react-router" href="#react-router">React Router</a>
                            <ul class="heading-list -depth-2">
                              <li class="heading-item -depth-3"><a class="hlink link-router" href="#router">Router</a>
                              </li>
                              <li class="heading-item -depth-3"><a class="hlink link-switch" href="#switch">Switch</a>
                              </li>
                              <li class="heading-item -depth-3"><a class="hlink link-route" href="#route">Route</a>
                              </li>
                              <li class="heading-item -depth-3"><a class="hlink link-history" href="#history">History</a>
                              </li>
                              <li class="heading-item -depth-3"><a class="hlink link-params" href="#params">Params</a>
                              </li>
                            </ul>
                          </li>
                          <li class="heading-item -depth-2"><a class="hlink link-react-redux" href="#react-redux">React Redux</a>
                            <ul class="heading-list -depth-2">
                              <li class="heading-item -depth-3"><a class="hlink link-flux" href="#flux">Flux</a>
                              </li>
                            </ul>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-javascripttesting" href="../../javascript/testing.html">Testing</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-javascriptvariables" href="../../javascript/variables.html">Variables</a>
                  </li>
                </ul>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">Ruby</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-rubyoverview" href="../../ruby/overview.html">Overview</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-rubygems" href="../../ruby/gems.html">Gems</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-rubyrails" href="../../ruby/rails.html">Rails</a>
                  </li>
                </ul>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">SQL</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-sqloverview" href="../../sql/overview.html">Overview</a>
                  </li>
                </ul>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">CSS</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-cssoverview" href="../../css/overview.html">Overview</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="body page-javascriptreactlibraries">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/michaelminter/code-kindness-doc" data-title="michaelminter/code-kindness-doc">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="react-libraries">React Libraries</h1>
<h2 id="react-router">React Router</h2>
<p>React Router is a powerful routing library built on top of React that helps you add new screens and flows to your
application incredibly quickly, all while keeping the URL in sync with what&apos;s being displayed on the page.</p>
<p>React Router is a wrapper around the <code>history</code> library which handles interaction with the browser&apos;s <code>window.history</code> with its browser and hash histories. It also provides memory history which is useful for environments that don&apos;t have global history, such as mobile app development (React Native) and unit testing with Node.</p>
<h3 id="router">Router</h3>
<p>React Router v4 provides 3 <code>&lt;Router&gt;</code> components:</p>
<ol>
<li><code>&lt;BrowserRouter&gt;</code></li>
<li><code>&lt;HashRouter&gt;</code></li>
<li><code>&lt;MemoryRouter&gt;</code></li>
</ol>
<p>The above components will create <em>browser</em>, <em>hash</em>, and <em>memory</em> history instances. React Router v4 makes the properties and methods of the <code>history</code> instance associated with your router available through the context in the <code>router</code> object.</p>
<h3 id="switch">Switch</h3>
<p>You have to wrap your Route&apos;s in a <code>&lt;Switch&gt;</code> block because <code>&lt;Switch&gt;</code> is unique in that it renders a route exclusively.</p>
<p>First you need to add <code>Switch</code> to your imports:</p>
<pre><code class="lang-javascript"><span class="pl-k">import</span> { Switch, Router, Route } <span class="pl-k">from</span> <span class="pl-s">&apos;react-router&apos;</span>
</code></pre>
<p>Then define the routes within a <code>&lt;Switch&gt;</code> block:</p>
<pre><code class="lang-jsx">&lt;Router&gt;
  &lt;Switch&gt;
    &lt;Route {/* ... */} /&gt;
    &lt;Route {/* ... */} /&gt;
  &lt;/Switch&gt;
&lt;/Router&gt;
</code></pre>
<h3 id="route">Route</h3>
<p>A <code>&lt;Switch&gt;</code> renders the first child <code>&lt;Route&gt;</code> that matches. A <code>&lt;Route&gt;</code> with no <code>path</code> always matches. So you just need
to drop the <code>path</code> attribute:</p>
<pre><code class="lang-jsx">&lt;Switch&gt;
  &lt;Route exact path=&quot;/&quot; component={ Home } /&gt;
  &lt;Route path=&quot;/user&quot; component={ User } /&gt;
  &lt;Route component={ NotFound } /&gt;
&lt;/Switch&gt;
</code></pre>
<h3 id="history">History</h3>
<p>A <code>history</code> instance has two methods for navigation purpose.</p>
<ol>
<li><code>push()</code></li>
<li><code>replace()</code></li>
</ol>
<p>If you think of the history as an array of visited locations, <code>push()</code> will add a new location to the array and <code>replace()</code> will replace the current location in the array with the new one.</p>
<p>While navigating you can pass props to the <code>history</code> object:</p>
<pre><code class="lang-javascript"><span class="pl-k">this</span>.props.history.push({
  <span class="hljs-attr">pathname</span>: <span class="pl-s">&apos;/template&apos;</span>,
  <span class="hljs-attr">search</span>: <span class="pl-s">&apos;?name=sudheer&apos;</span>,
  <span class="hljs-attr">state</span>: { <span class="hljs-attr">detail</span>: response.data }
})
</code></pre>
<p>The <code>search</code> property is used to pass query params in <code>push()</code> method.</p>
<h4 id="navigation">Navigation</h4>
<p>There are three different ways to achieve programmatic routing/navigation within components.</p>
<ol>
<li>
<p><strong>Using the <code>withRouter()</code> higher-order function:</strong></p>
<p>The <code>withRouter()</code> higher-order function will inject the history object as a prop of the component. This object provides <code>push()</code> and <code>replace()</code> methods to avoid the usage of context.</p>
<pre><code class="lang-jsx"><span class="pl-k">import</span> { withRouter } <span class="pl-k">from</span> <span class="pl-s">&apos;react-router-dom&apos;</span> <span class="pl-c">// this also works with &apos;react-router-native&apos;</span>

<span class="pl-k">const</span> Button = withRouter(<span class="hljs-function">(<span class="hljs-params">{ history }</span>) =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
    <span class="hljs-attr">type</span>=<span class="pl-s">&apos;button&apos;</span>
    <span class="hljs-attr">onClick</span>=<span class="pl-s">{()</span> =&gt;</span> { history.push(&apos;/new-location&apos;) }}
  &gt;
    {&apos;Click Me!&apos;}
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
))
</code></pre>
</li>
<li>
<p><strong>Using <code>&lt;Route&gt;</code> component and render props pattern:</strong></p>
<p>The <code>&lt;Route&gt;</code> component passes the same props as <code>withRouter()</code>, so you will be able to access the history methods through the history prop.</p>
<pre><code class="lang-jsx"><span class="pl-k">import</span> { Route } <span class="pl-k">from</span> <span class="pl-s">&apos;react-router-dom&apos;</span>

<span class="pl-k">const</span> Button = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">render</span>=<span class="pl-s">{({</span> <span class="hljs-attr">history</span> }) =&gt;</span> (
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
      <span class="hljs-attr">type</span>=<span class="pl-s">&apos;button&apos;</span>
      <span class="hljs-attr">onClick</span>=<span class="pl-s">{()</span> =&gt;</span> { history.push(&apos;/new-location&apos;) }}
    &gt;
      {&apos;Click Me!&apos;}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  )} /&gt;</span>
)
</code></pre>
</li>
<li>
<p><strong>Using context:</strong></p>
<p>This option is not recommended and treated as unstable API.</p>
<pre><code class="lang-jsx"><span class="pl-k">const</span> Button = <span class="hljs-function">(<span class="hljs-params">props, context</span>) =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
    <span class="hljs-attr">type</span>=<span class="pl-s">&apos;button&apos;</span>
    <span class="hljs-attr">onClick</span>=<span class="pl-s">{()</span> =&gt;</span> {
      context.history.push(&apos;/new-location&apos;)
    }}
  &gt;
    {&apos;Click Me!&apos;}
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
)

Button.contextTypes = {
  <span class="hljs-attr">history</span>: React.PropTypes.shape({
    <span class="hljs-attr">push</span>: React.PropTypes.func.isRequired
  })
}
</code></pre>
</li>
</ol>
<h4 id="redirect">Redirect</h4>
<p>The <code>react-router</code> package provides <code>&lt;Redirect&gt;</code> component in React Router. Rendering a <code>&lt;Redirect&gt;</code> will navigate to a new location. Like server-side redirects, the new location will override the current location in the history stack.</p>
<pre><code class="lang-javascript"><span class="pl-k">import</span> React, { Component } <span class="pl-k">from</span> <span class="pl-s">&apos;react&apos;</span>
<span class="pl-k">import</span> { Redirect } <span class="pl-k">from</span> <span class="pl-s">&apos;react-router&apos;</span>

<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="hljs-class"><span class="pl-k">class</span> <span class="pl-ent">LoginComponent</span> <span class="pl-k">extends</span> <span class="pl-ent">Component</span> </span>{
  render() {
    <span class="pl-k">if</span> (<span class="pl-k">this</span>.state.isLoggedIn === <span class="pl-c1">true</span>) {
      <span class="pl-k">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Redirect</span> <span class="hljs-attr">to</span>=<span class="pl-s">&quot;/your/redirect/page&quot;</span> /&gt;</span></span>
    } <span class="pl-k">else</span> {
      <span class="pl-k">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{&apos;Login Please&apos;}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    }
  }
}
</code></pre>
<h3 id="params">Params</h3>
<p>The ability to parse query strings was taken out of React Router v4 because there have been user requests over the years
to support different implementations. So the decision has been given to users to choose the implementation they like.
The recommended approach is to use the <code>query-string</code> library.</p>
<pre><code class="lang-javascript"><span class="pl-k">const</span> queryString = <span class="pl-c1">require</span>(<span class="pl-s">&apos;query-string&apos;</span>);
<span class="pl-k">const</span> parsed = queryString.parse(props.location.search);
</code></pre>
<p>You can also use <code>URLSearchParams</code> if you want something native:</p>
<pre><code class="lang-javascript"><span class="pl-k">const</span> params = <span class="pl-k">new</span> URLSearchParams(props.location.search)
<span class="pl-k">const</span> foo = params.get(<span class="pl-s">&apos;name&apos;</span>)
</code></pre>
<p>You should use a <em>polyfill</em> for IE11.</p>
<h2 id="react-redux">React Redux</h2>
<p><em>Redux</em> is a predictable state container for JavaScript apps based on the <em>Flux design pattern</em>. Redux can be used
together with React, or with any other view library. It is tiny (about 2kB) and has no dependencies.</p>
<p>Redux follows three fundamental principles:</p>
<ol>
<li><strong>Single source of truth:</strong> The state of your whole application is stored in an object tree within a single store. The single state tree makes it easier to keep track of changes over time and debug or inspect the application.</li>
<li><strong>State is read-only:</strong> The only way to change the state is to emit an action, an object describing what happened. This ensures that neither the views nor the network callbacks will ever write directly to the state.</li>
<li><strong>Changes are made with pure functions:</strong> To specify how the state tree is transformed by actions, you write reducers. Reducers are just pure functions that take the previous state and an action as parameters, and return the next state.</li>
</ol>
<p>You could use <strong>Context</strong> in your application directly and it&apos;s great for passing down data to deeply nested components
which is what it was designed for.</p>
<p><strong>Redux</strong> is much more powerful and provides a large number of features that the <em>Context</em> API doesn&apos;t provide. Also,
React Redux uses <code>context</code> internally but it doesn&apos;t expose this fact in the public API.</p>
<h3 id="flux">Flux</h3>
<p><em>Flux</em> is an <em>application design paradigm</em> used as a replacement for the more traditional MVC pattern. It is not a framework or a library but a new kind of architecture that complements React and the concept of Unidirectional Data Flow. Facebook uses this pattern internally when working with React.</p>
<p>The workflow between dispatcher, stores and views components with distinct inputs and outputs as follows:</p>
<p><img src="https://raw.githubusercontent.com/sudheerj/reactjs-interview-questions/master/images/flux.png" alt="flux"></p>
<table>
<thead>
<tr>
<th>Flux</th>
<th>Redux</th>
</tr>
</thead>
<tbody>
<tr>
<td>State is mutable</td>
<td>State is immutable</td>
</tr>
<tr>
<td>The Store contains both state and change logic</td>
<td>The Store and change logic are separate</td>
</tr>
<tr>
<td>There are multiple stores exist</td>
<td>There is only one store exist</td>
</tr>
<tr>
<td>All the stores are disconnected and flat</td>
<td>Single store with hierarchical reducers</td>
</tr>
<tr>
<td>It has a singleton dispatcher</td>
<td>There is no concept of dispatcher</td>
</tr>
<tr>
<td>React components subscribe to the store</td>
<td>Container components uses connect function</td>
</tr>
</tbody>
</table>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../../javascript/react/api.html"><span class="title">API</span></a></div>
          <div class="right"><a href="../../javascript/testing.html"><span class="label">Next: </span><span class="title">Testing</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>